import { confirm, input, password } from '@inquirer/prompts';
/**
 * Wrapper for prompter library
 * Because @inquirer/prompts library set the methods as non-configurable, we cannot mock the methods directly.
 * see details: https://github.com/orgs/nodejs/discussions/47959
 */
export class AmplifyPrompter {
    /**
     * A confirm style prompt. Styles question as `y/N`
     * @param options for displaying the prompt
     * @param options.message display for the prompt
     * @param options.defaultValue if user submits without typing anything. Defaults false
     * @returns the boolean answer
     */
    static yesOrNo = async (options) => {
        const response = await confirm({
            message: options.message,
            transformer: (value) => (value ? 'y' : 'N'),
            default: options.defaultValue ?? false,
        });
        return response;
    };
    /**
     * A secret prompt.
     */
    static secretValue = async (promptMessage = 'Enter secret value') => {
        return await password({
            message: promptMessage,
            validate: (val) => val && val.length > 0 ? true : 'Cannot be empty',
        });
    };
    /**
     * An input style prompt.
     * @param options for displaying the prompt
     * @param options.message display for the prompt
     * @param options.defaultValue if user submits without typing anything. Default: "."
     * @param options.required if the user input is required, incompatible with options.defaultValue
     * @returns Promise<string> the user input
     */
    static input = async (options) => {
        if (options.required) {
            return input({
                message: options.message,
                validate: (val) => val && val.length > 0 ? true : 'Cannot be empty',
            });
        }
        return input({
            message: options.message,
            default: options.defaultValue ?? '',
        });
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW1wbGlmeV9wcm9tcHRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3Byb21wdGVyL2FtcGxpZnlfcHJvbXB0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUU3RDs7OztHQUlHO0FBQ0gsTUFBTSxPQUFPLGVBQWU7SUFDMUI7Ozs7OztPQU1HO0lBQ0gsTUFBTSxDQUFDLE9BQU8sR0FBRyxLQUFLLEVBQUUsT0FHdkIsRUFBb0IsRUFBRTtRQUNyQixNQUFNLFFBQVEsR0FBRyxNQUFNLE9BQU8sQ0FBQztZQUM3QixPQUFPLEVBQUUsT0FBTyxDQUFDLE9BQU87WUFDeEIsV0FBVyxFQUFFLENBQUMsS0FBYyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7WUFDcEQsT0FBTyxFQUFFLE9BQU8sQ0FBQyxZQUFZLElBQUksS0FBSztTQUN2QyxDQUFDLENBQUM7UUFDSCxPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDLENBQUM7SUFFRjs7T0FFRztJQUNILE1BQU0sQ0FBQyxXQUFXLEdBQUcsS0FBSyxFQUN4QixhQUFhLEdBQUcsb0JBQW9CLEVBQ25CLEVBQUU7UUFDbkIsT0FBTyxNQUFNLFFBQVEsQ0FBQztZQUNwQixPQUFPLEVBQUUsYUFBYTtZQUN0QixRQUFRLEVBQUUsQ0FBQyxHQUFXLEVBQUUsRUFBRSxDQUN4QixHQUFHLElBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsaUJBQWlCO1NBQ25ELENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQztJQUVGOzs7Ozs7O09BT0c7SUFDSCxNQUFNLENBQUMsS0FBSyxHQUFHLEtBQUssRUFDbEIsT0FVSyxFQUNZLEVBQUU7UUFDbkIsSUFBSSxPQUFPLENBQUMsUUFBUSxFQUFFO1lBQ3BCLE9BQU8sS0FBSyxDQUFDO2dCQUNYLE9BQU8sRUFBRSxPQUFPLENBQUMsT0FBTztnQkFDeEIsUUFBUSxFQUFFLENBQUMsR0FBVyxFQUFFLEVBQUUsQ0FDeEIsR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGlCQUFpQjthQUNuRCxDQUFDLENBQUM7U0FDSjtRQUNELE9BQU8sS0FBSyxDQUFDO1lBQ1gsT0FBTyxFQUFFLE9BQU8sQ0FBQyxPQUFPO1lBQ3hCLE9BQU8sRUFBRSxPQUFPLENBQUMsWUFBWSxJQUFJLEVBQUU7U0FDcEMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uZmlybSwgaW5wdXQsIHBhc3N3b3JkIH0gZnJvbSAnQGlucXVpcmVyL3Byb21wdHMnO1xuXG4vKipcbiAqIFdyYXBwZXIgZm9yIHByb21wdGVyIGxpYnJhcnlcbiAqIEJlY2F1c2UgQGlucXVpcmVyL3Byb21wdHMgbGlicmFyeSBzZXQgdGhlIG1ldGhvZHMgYXMgbm9uLWNvbmZpZ3VyYWJsZSwgd2UgY2Fubm90IG1vY2sgdGhlIG1ldGhvZHMgZGlyZWN0bHkuXG4gKiBzZWUgZGV0YWlsczogaHR0cHM6Ly9naXRodWIuY29tL29yZ3Mvbm9kZWpzL2Rpc2N1c3Npb25zLzQ3OTU5XG4gKi9cbmV4cG9ydCBjbGFzcyBBbXBsaWZ5UHJvbXB0ZXIge1xuICAvKipcbiAgICogQSBjb25maXJtIHN0eWxlIHByb21wdC4gU3R5bGVzIHF1ZXN0aW9uIGFzIGB5L05gXG4gICAqIEBwYXJhbSBvcHRpb25zIGZvciBkaXNwbGF5aW5nIHRoZSBwcm9tcHRcbiAgICogQHBhcmFtIG9wdGlvbnMubWVzc2FnZSBkaXNwbGF5IGZvciB0aGUgcHJvbXB0XG4gICAqIEBwYXJhbSBvcHRpb25zLmRlZmF1bHRWYWx1ZSBpZiB1c2VyIHN1Ym1pdHMgd2l0aG91dCB0eXBpbmcgYW55dGhpbmcuIERlZmF1bHRzIGZhbHNlXG4gICAqIEByZXR1cm5zIHRoZSBib29sZWFuIGFuc3dlclxuICAgKi9cbiAgc3RhdGljIHllc09yTm8gPSBhc3luYyAob3B0aW9uczoge1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBkZWZhdWx0VmFsdWU/OiBib29sZWFuO1xuICB9KTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjb25maXJtKHtcbiAgICAgIG1lc3NhZ2U6IG9wdGlvbnMubWVzc2FnZSxcbiAgICAgIHRyYW5zZm9ybWVyOiAodmFsdWU6IGJvb2xlYW4pID0+ICh2YWx1ZSA/ICd5JyA6ICdOJyksXG4gICAgICBkZWZhdWx0OiBvcHRpb25zLmRlZmF1bHRWYWx1ZSA/PyBmYWxzZSxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgc2VjcmV0IHByb21wdC5cbiAgICovXG4gIHN0YXRpYyBzZWNyZXRWYWx1ZSA9IGFzeW5jIChcbiAgICBwcm9tcHRNZXNzYWdlID0gJ0VudGVyIHNlY3JldCB2YWx1ZScsXG4gICk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHBhc3N3b3JkKHtcbiAgICAgIG1lc3NhZ2U6IHByb21wdE1lc3NhZ2UsXG4gICAgICB2YWxpZGF0ZTogKHZhbDogc3RyaW5nKSA9PlxuICAgICAgICB2YWwgJiYgdmFsLmxlbmd0aCA+IDAgPyB0cnVlIDogJ0Nhbm5vdCBiZSBlbXB0eScsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFuIGlucHV0IHN0eWxlIHByb21wdC5cbiAgICogQHBhcmFtIG9wdGlvbnMgZm9yIGRpc3BsYXlpbmcgdGhlIHByb21wdFxuICAgKiBAcGFyYW0gb3B0aW9ucy5tZXNzYWdlIGRpc3BsYXkgZm9yIHRoZSBwcm9tcHRcbiAgICogQHBhcmFtIG9wdGlvbnMuZGVmYXVsdFZhbHVlIGlmIHVzZXIgc3VibWl0cyB3aXRob3V0IHR5cGluZyBhbnl0aGluZy4gRGVmYXVsdDogXCIuXCJcbiAgICogQHBhcmFtIG9wdGlvbnMucmVxdWlyZWQgaWYgdGhlIHVzZXIgaW5wdXQgaXMgcmVxdWlyZWQsIGluY29tcGF0aWJsZSB3aXRoIG9wdGlvbnMuZGVmYXVsdFZhbHVlXG4gICAqIEByZXR1cm5zIFByb21pc2U8c3RyaW5nPiB0aGUgdXNlciBpbnB1dFxuICAgKi9cbiAgc3RhdGljIGlucHV0ID0gYXN5bmMgKFxuICAgIG9wdGlvbnM6XG4gICAgICB8IHtcbiAgICAgICAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgICAgcmVxdWlyZWQ/OiBuZXZlcjtcbiAgICAgICAgICBkZWZhdWx0VmFsdWU/OiBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgIHwge1xuICAgICAgICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZTtcbiAgICAgICAgICBkZWZhdWx0VmFsdWU/OiBuZXZlcjtcbiAgICAgICAgfSxcbiAgKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICBpZiAob3B0aW9ucy5yZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIGlucHV0KHtcbiAgICAgICAgbWVzc2FnZTogb3B0aW9ucy5tZXNzYWdlLFxuICAgICAgICB2YWxpZGF0ZTogKHZhbDogc3RyaW5nKSA9PlxuICAgICAgICAgIHZhbCAmJiB2YWwubGVuZ3RoID4gMCA/IHRydWUgOiAnQ2Fubm90IGJlIGVtcHR5JyxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXQoe1xuICAgICAgbWVzc2FnZTogb3B0aW9ucy5tZXNzYWdlLFxuICAgICAgZGVmYXVsdDogb3B0aW9ucy5kZWZhdWx0VmFsdWUgPz8gJycsXG4gICAgfSk7XG4gIH07XG59XG4iXX0=